(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"6a8ab7d9a2df6733f7e2":function(e,t,a){"use strict";a.r(t);var n=a("e95a63b25fb92ed15721"),r=a("8af190b70a6bc55c6f1b"),i=a.n(r),o=a("ecbdedbb63dd08b2841e"),l=a.n(o),c=a("ab7ebb4f5c369f043e8f"),s=a.n(c),u=a("0d7f0986bcd2f33d8a2a"),m=a("ab039aecd4a1d4fedc0e"),d=a("0d939196e59ed73c94e6"),f=a("be638c054224589367e1"),p=a.n(f),b=a("f8d3582cb63722b51e34"),g=a("1037a6e0d5914309f74c"),y=a.n(g),h=a("1a4ed1ba7965942fe077"),v=a("e1f4d4d03e3022cb8ad7"),E=a("6580e3a841bd6dc9a0fe"),S=a("1c2538367908c46ee10d"),O=a("d1f8212a47a511a9ad3a"),j=a("e1d597c8abc5a3008a44");function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function k(e){var t=e.filter,a=e.setFilter,n=e.filterSubmit,o=e.isLoading,l=e.clearIsLoading,c=e.setClearIsLoading,s=e.setIsLoading,u=Object(E.b)(t,!1,(function(){"{}"===JSON.stringify(m.categoryId)&&delete m.categoryId,n(m),s(!0)}),[]),m=u.values,f=u.errors,p=u.handleInputChange,b=u.handleSubmit,g=u.resetForm,y=I(Object(r.useState)([]),2),v=y[0],w=y[1],k=I(Object(r.useState)([]),2),x=k[0],A=k[1],C=I(Object(r.useState)([]),2),P=C[0],G=C[1],T=I(Object(r.useState)([]),2),L=T[0],R=T[1],_=I(Object(r.useState)([]),2),D=_[0],B=_[1],M=I(Object(r.useState)([]),2),z=M[0],F=M[1],q=I(Object(r.useState)([]),2),N=q[0],V=q[1],U=Object(O.useSnackbar)().enqueueSnackbar,W=I(Object(r.useState)(!1),2),X=W[0],J=W[1];Object(r.useEffect)((function(){Object(h.b)("get","/selectlist/shipmode",w,Y),Object(h.b)("get","/selectlist/oficialstore",A,Y),Object(h.b)("get","/selectlist/listingtype",G,Y),Object(h.b)("get","/selectlist/sellerId",R,Y),Object(h.b)("get","/selectlist/status",F,Y),Object(h.b)("get","/selectlist/skuatt",V,Y)}),[]);var Y=function(e){U(e,{variant:"error"})};return i.a.createElement(E.a,{onSubmit:b},i.a.createElement(d.Grid,{container:!0,style:{paddingLeft:10,paddingRight:10,marginBottom:10}},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Grid,{container:!0,spacing:1},i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.Input,{name:"title",label:"T\xedtulo",value:m.title,onChange:function(e){p(e)},error:f.title})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.Input,{name:"sku",label:"SKU",value:m.sku,onChange:function(e){p(e)},error:f.sku})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.Input,{name:"publishId",label:"Id do An\xfancio",value:m.publishId,onChange:function(e){p(e)},error:f.publishId})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.MultiSelect,{name:"sellerId",label:"Empresa",value:m.sellerId,onChange:function(e){p(e)},options:L,error:f.sellerId})))),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Collapse,{in:X},i.a.createElement(d.Grid,{container:!0,spacing:1},i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.MultiSelect,{name:"shipMode",label:"Modo de Envio",value:m.shipMode,onChange:function(e){p(e)},options:v,error:f.shipMode})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.AutoComplete,{name:"attId",label:"Atributo",value:m.attId,onChange:function(e){var t;t=e.target.value,Object(h.b)("get","/selectlist/skuatt/".concat(t,"/value"),B),p(e)},onInputChange:p,options:N,error:f.attId})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.AutoComplete,{name:"attValue",label:"Valor Atributo",value:m.attValue,onChange:function(e){p(e),handleChange(e)},onInputChange:p,options:D,error:f.attValue})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.MultiSelect,{name:"oficialStore",label:"Loja Oficial",value:m.oficialStore,onChange:function(e){p(e)},options:x,error:f.oficialStore})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.MultiSelect,{name:"listingType",label:"Destaque",value:m.listingType,onChange:function(e){p(e)},options:P,error:f.listingType})),i.a.createElement(d.Grid,{item:!0,sm:6,lg:3,xs:12},i.a.createElement(S.a.MultiSelect,{name:"status",label:"Status",value:m.status,onChange:function(e){p(e)},options:z,error:f.status}))))),i.a.createElement(d.Grid,{item:!0},i.a.createElement(j.a,{type:"submit",isLoading:o,disabled:o,icon:"filter_list",label:"Filtrar"})),i.a.createElement(d.Grid,{item:!0},i.a.createElement(j.a,{onClick:function(){a({limit:25,offset:0}),c(!0),sessionStorage.setItem("publishFilter",JSON.stringify({limit:25,offset:0})),g()},isLoading:l,disabled:l,label:"Limpar Filtros",icon:"clear"})),i.a.createElement(d.Grid,{item:!0},i.a.createElement(j.a,{onClick:function(){J(!X)},label:X?"Menos filtros ...":"Mais filtros ...",icon:X?"remove":"add"}))),i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Divider,null))))}var x=a("695e8e491f250678f5ba"),A=a.n(x),C=a("e62818580b228af97556"),P=a.n(C),G=a("c8477a7a228af6de9577"),T=a.n(G),L=a("80e80f602055becd595c"),R=a.n(L),_=a("d1481ba7d88efe885afa"),D=a.n(_),B=a("43e96193992dbe8f5768"),M=a("c76b5fede0f05253a370");function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var q=function(e){var t=e.publishies,a=e.executeAfterAction,n=e.detailActions,o=e.edited,l=void 0!==o&&o,c=e.handleDownloadClick,s=e.handleRefreshClick,u=e.requiredFields,m=e.isDownloading,f=e.valuesDetail,p=z(Object(r.useState)(!1),2),b=p[0],g=p[1],y=Object(O.useSnackbar)().enqueueSnackbar,v=function(e){try{var n="";switch(e){case"paused":n="Pausado";break;case"active":n="Ativado";break;case"unlinked":n="Desvinculado";break;default:n="Outro"}Object(h.b)("put","/publish/status/".concat(e),(function(){y("Anuncio ".concat(n," com sucesso "),{variant:"success"}),a()}),(function(e){return y(e,{variant:"error"})}),t)}catch(e){}},I=z(Object(r.useState)({}),1)[0],w=z(Object(r.useState)([]),2),k=w[0],x=w[1],A=z(Object(r.useState)(!1),2),C=(A[0],A[1]);Object(r.useEffect)((function(){Object(h.b)("get","/selectlist/sellerid",x,(function(e){return y(e,{variant:"error"})}))}),[]);var P=function(e){C(!0),Object(h.b)("post","/publish/sync",(function(e){C(!1),g(!1),y("An\xfancio sincronizado com sucesso",{variant:"success"}),a()}),(function(e){return y(e,{variant:"error"})}),e)},G=Object(E.b)(I,!0,(function(){var e=T.mlb.split(",").map((function(e){return{publishId:e,sellerId:T.sellerId}}));P(e)}),[{field:"mlb",message:"O Campo Mlb \xe9 obrigat\xf3rio"},{field:"sellerId",message:"O Campo Empresa n\xe3o pode estar vazio"}]),T=G.values,L=G.errors,R=G.handleInputChange,_=G.handleSubmit,D=[{title:"Atualizar",icon:"refresh",tooltip:"Atualizar p\xe1gina",disabled:t.length<0,onClick:s},{title:"Publicar",icon:"file_upload",tooltip:"Publica an\xfancio pentendete",disabled:!Array.isArray(t)||0==t.length||t.find((function(e){return"pending"!=e.status||void 0==e.complete}))||l,onClick:function(){Object(h.b)("post","/publish/sendPublish",(function(e){Array.isArray(e)&&1==e.length&&(window.location.href="/publish/".concat(e[0].publishIdNew)),a()}),(function(e){return y(e,{variant:"error"})}),t.map((function(e){return e.publishId})))}},{title:"Vincular",icon:"link",tooltip:"Vincula um an\xfancio criado diretamente no Mercado Livre",disabled:t.length,onClick:function(){g(!1),g(!0)}},{title:"Desvincular",icon:"link_off",tooltip:"Desvincula an\xfancio publicado, o an\xfancio n\xe3o ser\xe1 alterado na plataforma, apenas ser\xe1 removido no Hub",disabled:!t.length,onClick:function(){return v("unlinked")}},{title:"Sincronizar",icon:"sync",tooltip:"Busca informa\xe7\xf5es do an\xfancio publicado e salva no Hub",onClick:function(){var e=t.map((function(e){return{publishId:e.publishId,sellerId:e.sellerId}}));P(e)},disabled:!t.length},{title:"Ativar",icon:"play_arrow",tooltip:"Ativa an\xfancio publicado",disabled:!t.length,onClick:function(){return v("active")}},{title:"Pausar",icon:"pause",tooltip:"Pausa an\xfancio publicado",disabled:!t.length,onClick:function(){return v("paused")}},{title:"Rem. Campanha",icon:"remove_circle_outline",tooltip:"Remove campanha de desconto da plataforma",disabled:!t.length,onClick:function(){return b(!0)}}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a,{isOpen:b,setIsOpen:g,title:"Vincular An\xfancios",description:"Adicione os dados do An\xfancio",handleSubmit:_},i.a.createElement(S.a.Select,{label:"Empresas",name:"sellerId",value:T.sellerId,onChange:R,options:k,error:L.sellerId}),i.a.createElement(S.a.Input,{autoFocus:!0,label:"MLB",name:"mlb",value:T.mlb,onChange:R,error:L.mlb})),i.a.createElement(d.Grid,{container:!0,justifyContent:"flex-end",spacing:1},!n&&i.a.createElement(d.Grid,{item:!0},i.a.createElement(j.a,{onClick:c,disabled:t.length||m,icon:"download",label:"Planilha"})),n&&i.a.createElement(d.Grid,{item:!0},i.a.createElement(j.a,{icon:"save",disabled:Array.isArray(u)&&u.filter((function(e){return f[e.field]})).length!==u.length,type:"submit",label:"Salvar"})),i.a.createElement(d.Grid,{item:!0},i.a.createElement(M.a,{size:"small",buttons:D}))))},N=a("bd183afcc37eabd79225"),V=a.n(N),U=a("01d3b8d5edf7931b16b6");function W(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"===typeof e)return Y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var $=function(e){var t=e.publishCategory,a=e.onSetCategory,n=e.status,o=X(Object(r.useState)([]),2),l=o[0],c=o[1],s=Object(O.useSnackbar)().enqueueSnackbar,u=function(e,t){V.a.get("https://api.mercadolibre.com/categories/".concat(e)).then((function(e){t(e.data)})).catch((function(e){return s(e,{variant:"error"})}))};return Object(r.useEffect)((function(){t||V.a.get("https://api.mercadolibre.com/sites/MLB/categories").then((function(e){var t=[{level:0,items:e.data}];c(t)})).catch((function(e){s(e,{variant:"error"})})),t&&l.length<=1&&V.a.get("https://api.mercadolibre.com/sites/MLB/categories").then((function(e){var a=[{level:0,items:e.data}];u(t,(function(e){e.path_from_root.map((function(t,n){setTimeout((function(){u(t.id,(function(r){r.children_categories.length&&a.push({level:n+1,items:r.children_categories}),a.find((function(e){return e.level==n})).items.map((function(e){e.selected=e.id==t.id})),n==e.path_from_root.length-1&&c(a)}))}),300*n)}))}))})).catch((function(e){s(e,{variant:"error"})}))}),[t]),i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12,style:{paddingBottom:15}},l.map((function(e){if(e.items.find((function(e){return e.selected})))return e.items.find((function(e){return e.selected})).name})).join(" > ")),i.a.createElement(d.Grid,{container:!0,spacing:1,style:{display:"flex",flexWrap:"nowrap",overflowX:"scroll"},gutter:24},l.map((function(e){return i.a.createElement(d.Grid,{item:!0},i.a.createElement(d.List,{style:{overflow:"auto",maxHeight:300}},e.items.map((function(t){return i.a.createElement(d.ListItem,{disabled:n&&"pending"!=n,button:!0,key:t.id,selected:t.selected,onClick:function(){var n,r;n=t.id,r=e.level,u(n,(function(e){var t=l.filter((function(e){return e.level<=r}));t.find((function(e){return e.level==r})).items.map((function(e){e.selected=e.id==n})),e.children_categories.length>0&&t.push({level:r+1,items:e.children_categories}),c(W(t)),a(n)}))}},i.a.createElement(d.ListItemText,{primary:t.name}))}))))}))))},H=a("e69caa6083891ce76478"),K=function(e,t,a){V.a.get("https://api.mercadolibre.com/categories/".concat(e,"/technical_specs/input")).then((function(e){return t(e.data)})).catch(a)},Q=a("efe034529830d873b8bb"),Z=a("bd5d85e56ddc9b205cd6"),ee=a("8a2d1b95e05b6a321e74"),te=a.n(ee),ae=a("6938d226fd372a75cbf9");function ne(e){var t=e.listData,a=e.values,n=e.errors,r=e.handleInputChange,o=e.variation;return i.a.createElement(d.Grid,{container:!0},t.map((function(e,t,l){var c=o?"".concat(o,"_").concat(e.id):e.id;return i.a.createElement(i.a.Fragment,null,l[t-1]&&e.relevance!=l[t-1].relevance&&i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Divider,{style:{marginTop:20}})),i.a.createElement(d.Grid,{item:!0,lg:6,sm:6,xs:12,style:{paddingLeft:5,paddingRight:5}},"boolean"==e.value_type&&i.a.createElement(S.a.Switch,{label:e.name,name:c,value:a[c],onChange:r,error:n[c]}),"list"==e.value_type&&i.a.createElement(S.a.Select,{label:e.name,name:c,options:e.values,value:a[c],onChange:r,error:n[c]}),"boolean"!=e.value_type&&"list"!=e.value_type&&i.a.createElement(S.a.Input,{label:e.name,name:c,value:a[c],onChange:r,error:n[c],inputProps:{maxLength:e.value_max_length||100}})))})))}ne.propTypes={classes:te.a.object.isRequired};var re=Object(ae.withStyles)({chartFluid:{Width:"100%",height:"100%"}})(ne),ie=a("85375f8d26acc8d5cc1e"),oe=a.n(ie),le=a("30a2323f7d39e55e43f3");function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){ue(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ue(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return de(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function fe(e){var t=e.open,a=e.setOpen,n=e.onSubmit,o=e.publishData,l=Object(d.useTheme)(),c=oe()(l.breakpoints.down("sm")),s=me(Object(r.useState)({}),2),u=s[0],m=s[1],f=me(Object(r.useState)([]),2),p=f[0],b=f[1],g=me(Object(r.useState)([]),2),y=g[0],v=g[1],j=me(Object(r.useState)(),2),I=j[0],w=j[1],k=Object(O.useSnackbar)().enqueueSnackbar;Object(r.useEffect)((function(){t&&(m({}),w(),v([]),Object(h.b)("get","/selectlist/pubatt",(function(e){return b(e)}),(function(e){return k(e,{variant:"error"})}),{},{params:{category:o.category}}))}),[t]),Object(r.useEffect)((function(){I&&"string"==typeof I?Object(h.b)("get","/selectlist/pubatt/".concat(I,"/value"),(function(e){return v(e)}),(function(e){return k(e,{variant:"error"})})):v([])}),[I]);var x=Object(E.b)(u,!0,(function(){o.attributes.find((function(e){return e.name.toLowerCase()==A.attId.toLowerCase()&&(e.custom||e.combination)}))?k("O atributo ".concat(A.attId," j\xe1 existe na varia\xe7\xe3o"),{variant:"error"}):(n(se(se({},A),o)),a({open:!1}))}),[{field:"attId",message:"O Campo Atributo \xe9 obrigat\xf3rio"},{field:"attValues",message:"O Campo Valor \xe9 obrigat\xf3rio"}]),A=x.values,C=x.errors,P=x.handleInputChange,G=x.handleSubmit;return i.a.createElement(d.Dialog,{open:t,onClose:function(){return a({open:!1})},fullScreen:c},i.a.createElement(E.a,{onSubmit:G},i.a.createElement(d.DialogTitle,{id:"alert-dialog-title"},"Novo atributo no: ".concat(o.sku)),i.a.createElement(d.DialogContent,null,i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(S.a.AutoComplete,{autoFocus:!0,name:"attId",label:"Atributo",value:A.attId,onChange:function(e){P(e),w(e.target.value),le.a},onInputChange:P,options:p,error:C.attId,freeSolo:!0})),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(S.a.AutoComplete,{name:"attValues",label:"Valor",value:A.attValues,onChange:function(e){P(e)},onInputChange:P,options:y,error:C.attValues,freeSolo:!0})))),i.a.createElement(d.DialogActions,null,i.a.createElement(d.Button,{onClick:function(){return a({open:!1})},color:"primary"},"Cancelar"),i.a.createElement(d.Button,{type:"submit",color:"primary"},"Confirmar"))))}var pe=a("340a59d39dc0a303b131"),be=a("98b41f971f7301538e8d"),ge=a.n(be);function ye(e){var t=e.total,a=e.page,n=e.rowsPerPage,r=e.pageChange,o=function(e,t){try{"number"===typeof t?a=t:(n=e.target.value,a=0),r({page:a,rowsPerPage:n})}catch(e){}};return i.a.createElement(ge.a,{component:"div",count:Math.round(t||0),page:a||0,onPageChange:o,rowsPerPage:n||25,onRowsPerPageChange:o})}var he=a("9095151026da8c51dd60"),ve=a.n(he);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach((function(t){Oe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var we=function(e){var t=e.publish,a=e.handleSelectSku,n=je(Object(r.useState)(!1),2),o=n[0],l=n[1],c=je(Object(r.useState)({limit:25,offset:0,onlyVar:!0}),2),u=c[0],m=c[1],f=je(Object(r.useState)({}),2),p=f[0],b=f[1],g=je(Object(r.useState)({}),2),y=g[0];g[1],Object(r.useEffect)((function(){t&&(l(!0),m(Se(Se({},u),{},{sellerId:[t.sellerId],offset:0})))}),[t]),Object(r.useEffect)((function(){Object(h.b)("get","/sku",(function(e){b(e)}),(function(e){return enqueueSnackbar(Object(U.a)(e),{variant:"error"})}),{},{params:u})}),[u]);var v=Object(E.b)(y,!0,(function(){m(Se(Se(Se({},u),O),{},{offset:0}))}),[]),O=v.values,j=v.handleInputChange,I=v.handleSubmit;return i.a.createElement(d.Dialog,{open:o,onClose:function(){l(!1)}},i.a.createElement(E.a,{onSubmit:I},i.a.createElement(d.AppBar,{style:{position:"relative",paddingRight:0}},i.a.createElement(d.Toolbar,null,i.a.createElement(d.IconButton,{edge:"start",color:"inherit",onClick:function(){l(!1)},"aria-label":"Sair"},i.a.createElement(s.a,null)))),i.a.createElement(d.Grid,{container:!0,style:{flexGrow:1,padding:10}},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(S.a.Input,{autoFocus:!0,style:{marginTop:0},name:"code",label:"Pesquisar Varia\xe7\xe3o",onChange:j,value:O.code,InputProps:{endAdornment:i.a.createElement(d.InputAdornment,{position:"end"},i.a.createElement(d.IconButton,{"aria-label":"Buscar",type:"submit",edge:"end",style:{marginRight:1}},i.a.createElement(ve.a,null)))}})),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.List,{style:{height:290,width:"200",overflow:"auto"}},Array.isArray(p.list)&&p.list.length>0&&p.list.map((function(e){return i.a.createElement(d.ListItem,{button:!0,onClick:function(){return function(e){a(e),l(!1)}(e)}},i.a.createElement(d.ListItemAvatar,null,i.a.createElement(d.Avatar,null,i.a.createElement("img",{src:Array.isArray(e.images)&&e.images[0]}),e.sku?e.sku.charAt(0):"")),i.a.createElement(d.ListItemText,{primary:e.sku+" - "+(e.title?e.title:"Sem t\xedtulo"),secondary:e.sellerName}))})),(!Array.isArray(p.list)||0==p.list.length)&&i.a.createElement(d.ListItem,null,i.a.createElement(d.ListItemText,{primary:"Nenhuma varia\xe7\xe3o encontrada",secondary:"para esta empresa"})))),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Grid,{container:!0,justifyContent:"center"},i.a.createElement(ye,{total:p.total,page:p.offset?p.offset/p.limit:0,rowsPerPage:p.limit,pageChange:function(e){m(Se(Se({},u),{},{offset:e.page*e.rowsPerPage,limit:e.rowsPerPage}))}}))))))};function ke(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Te(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw i}}}}function xe(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(a),!0).forEach((function(t){Pe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"===typeof e)return Le(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Le(e,t):void 0}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Re=Object(d.makeStyles)((function(){return{root:{"& .MuiLinearProgress-colorPrimary":{backgroundColor:"red"},"& .MuiLinearProgress-barColorPrimary":{backgroundColor:"green"}}}}));function _e(e){var t=Re(),a=e.publishId,n=Ge(Object(r.useState)([]),2),o=n[0],l=n[1],c=Ge(Object(r.useState)([{status:"undefined"}]),2),s=c[0],u=c[1],m=Ge(Object(r.useState)([]),2),f=m[0],b=m[1],g=Ge(Object(r.useState)({}),2),y=g[0],v=g[1],j=Ge(Object(r.useState)([]),2),I=j[0],w=j[1],k=Ge(Object(r.useState)(!0),2),x=(k[0],k[1]),C=Ge(Object(r.useState)(),2),G=C[0],L=C[1],_=Ge(Object(r.useState)([]),2),B=_[0],M=_[1],z=Ge(Object(r.useState)({}),2),F=z[0],N=z[1],W=Ge(Object(r.useState)([]),2),X=W[0],J=W[1],Y=Ge(Object(r.useState)(),2),ee=Y[0],te=Y[1],ae=Object(O.useSnackbar)().enqueueSnackbar,ne=[{field:"shipMode",message:"O Campo envio \xe9 obrigat\xf3rio"},{field:"warrantyType",message:"O campo Garantia \xe9 obrigat\xf3rio. Para liberar este campo selecione uma categoria."},{field:"warrantyTime",message:"O campo Tempo de Garantia \xe9 obrigat\xf3rio. Para liberar este campo selecione uma categoria."},{field:"warrantyTimeUnit",message:"O campo Tipo de Garantia \xe9 obrigat\xf3rio. Para liberar este campo selecione uma categoria."},{field:"listingType",message:"O Campo Tipo de An\xfancio \xe9 obrigat\xf3rio"},{field:"condition",message:"O Campo condi\xe7\xe3o \xe9 obrigat\xf3rio"},{field:"title",message:"O Campo Titulo \xe9 obrigat\xf3rio"},{field:"sellerId",message:"O Campo empresa \xe9 obrigat\xf3rio"},{field:"description",message:"O Campo Descri\xe7\xe3o \xe9 obrigat\xf3rio"}],ie=Ge(Object(r.useState)(ne),2),oe=ie[0],le=ie[1],ce=Ge(Object(r.useState)(!1),2),se=ce[0],ue=ce[1],me=function(e){ye(e),ue(!0)},de=Object(E.b)(y,!0,(function(){var e=void 0==oe.find((function(e){return!be[e.field]}));be.marketPlaceId="60c798b36d68ee0822834006",be.platformId="60c75ce16d68ee082276c5ae",be.images||(be.images=[]),be.images=be.images.filter((function(e){return e.indexOf("blob:")<0})),be.variations||(be.variations=[]),be.variations.map((function(e){e.images||(e.images=[]),e.images=e.images.filter((function(e){return e.indexOf("blob:")<0}))}));var t,n=[],r=ke(I);try{for(r.s();!(t=r.n()).done;){var i=t.value;be[i.id]&&(n.push({id:i.id,name:i.name,value_name:be[i.id]}),delete be[i.id])}}catch(e){r.e(e)}finally{r.f()}be.attributes=n||[];var o,l=ke(be.variations);try{for(l.s();!(o=l.n()).done;){var c=o.value;n=[],Array.isArray(c.attributes)||(c.attributes=[]);var s,u=ke(I);try{for(u.s();!(s=u.n()).done;){var m=s.value;be["".concat(c.sku,"_").concat(m.id)]&&(n.push({id:m.id,name:m.name,value_name:be["".concat(c.sku,"_").concat(m.id)],combination:void 0!=m.tags.find((function(e){return"allow_variations"==e}))}),delete be["".concat(c.sku,"_").concat(m.id)])}}catch(e){u.e(e)}finally{u.f()}c.attributes=[].concat(xe(n),xe(c.attributes.filter((function(e){return e.custom})))),x(!0)}}catch(e){l.e(e)}finally{l.f()}(function(){var e=[];be.variations.map((function(t){var a;return Array.isArray(t.attributes)&&(a=e).push.apply(a,xe(t.attributes.map((function(e){return e.name}))))})),e=e.filter((function(e,t,a){return a.indexOf(e)===t}));var t=[];return be.variations.length>0&&be.variations.find((function(e){return!e.attributes.find((function(e){return e.custom||e.combination}))}))&&t.push("Todas as varia\xe7\xf5es precisam ter ao menos uma caracter\xedstica de Varia\xe7\xe3o"),!(t.length>0)||(ae(t.join(", "),{variant:"error"}),!1)})()&&Object(h.b)("put","/publish/".concat(a),(function(){var e,t=ke(B);try{for(t.s();!(e=t.n()).done;){var a=e.value;ve(be.publishId,a.sku,a.images)}}catch(e){t.e(e)}finally{t.f()}ae("An\xfancio atualizado com sucesso",{variant:"success"}),Ae(),ue(!1)}),(function(e){return ae(e,{variant:"error"})}),Ce(Ce({},be),{},{complete:e})),je(be)}),[]),be=de.values,ge=de.errors,ye=de.handleInputChange,he=de.handleSubmit,ve=function(e,t,a){var n,r=new FormData,i=ke(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.append("image",o,o.name)}}catch(e){i.e(e)}finally{i.f()}Object(h.b)("post","/publish/image",(function(){}),(function(e){return ae(e,{variant:"error"})}),r,{headers:{"content-type":"multipart/form-data",sku:t,publish:be.publishId}})},Ee=Ge(Object(r.useState)(),2),Se=Ee[0],Oe=Ee[1];Object(r.useEffect)((function(){Ae()}),[a]);var je=function(e){e.variations||(e.variations=[]),e.attributes||(e.attributes=[]),u([{status:e.status,publishId:e.publishId,marketPlaceId:e.marketPlaceId,sellerId:e.sellerId,complete:e.complete}]);var t={};if(e.attributes.map((function(e){t[e.id]=e.value_name})),e.variations.map((function(t){Array.isArray(t.attributes)&&t.attributes.map((function(a){e["".concat(t.sku,"_").concat(a.id)]=a.value_name}))})),v(Ce(Ce({},e),t)),e.category){var a=[];K(e.category,(function(e){var t,n=[],r=ke(e.groups);try{for(r.s();!(t=r.n()).done;){var i,o=ke(t.value.components);try{for(o.s();!(i=o.n()).done;){var l=i.value;n.push.apply(n,xe(l.attributes))}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}var c,s=ke(n.filter((function(e){return e.tags.find((function(e){return"catalog_required"==e}))})));try{for(s.s();!(c=s.n()).done;){var u=c.value;a.push({field:u.id,message:"O Campo Ficha T\xe9cnica do An\xfancio > ".concat(u.name," \xe9 obrigat\xf3rio")})}}catch(e){s.e(e)}finally{s.f()}le([].concat(ne,a)),w([].concat(n))}),(function(e){return ae(e,{variant:"error"})}))}},Ie=function(e){e&&function(e,t,a){V.a.get("https://api.mercadolibre.com/categories/".concat(e,"/sale_terms")).then((function(e){return t(e.data)})).catch(a)}(e,(function(e){J(e.filter((function(e){return"WARRANTY_TYPE"==e.id||"WARRANTY_TIME"==e.id})))}),(function(e){return ae(e,{variant:"error"})}))},Ae=function(){Object(h.b)("get","/publish/".concat(a),(function(e){je(e),Ie(e.category)}),(function(e){return ae(e,{variant:"error"})})),Object(h.b)("get","/selectlist/sellerid",l,(function(e){return ae(Object(U.a)(e),{variant:"error"})})),Object(h.b)("get","/selectlist/marketplaceid",(function(e){return b(e)}),(function(e){return ae(Object(U.a)(e),{variant:"error"})})),Object(h.b)("get","/user/superuser",(function(e){return te(e)}),(function(e){return ae(Object(U.a)(e),{variant:"error"})}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{onSubmit:he},i.a.createElement(Z.a,{isOpen:G,title:"Deletar Varia\xe7\xe3o",description:"Deseja mesmo deletar a varia\xe7\xe3o? Ao remover a varia\xe7\xe3o ela tamb\xe9m ser\xe1 apagada na plataforma",handleClose:function(e){e&&Object(h.b)("delete","/publish/delSku/".concat(a),(function(){return Ae()}),(function(e){return ae(e,{variant:"error"})}),{skuToDelete:G,publishId:a}),L()}}),i.a.createElement(H.a,{label:"An\xfancios"}),i.a.createElement(d.Paper,{elevation:2},i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Grid,{container:!0,style:{padding:10}},i.a.createElement(d.Grid,{item:!0,xl:5,lg:5,md:5,sm:12,xs:12,style:{paddingBottom:5}},i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0},i.a.createElement(d.Avatar,null,i.a.createElement(d.Icon,null,"dvr"))),i.a.createElement(d.Grid,{item:!0,style:{marginTop:2}},i.a.createElement(p.a,{label:"An\xfancio",size:"small",style:{marginTop:7,paddingLeft:5,marginBottom:4,fontSize:10,fontWeight:600,marginLeft:5}})),i.a.createElement(d.Grid,{item:!0,style:{marginTop:3}},i.a.createElement(d.Typography,{style:{paddingLeft:7,fontWeight:600,paddingTop:7}},y.publishId?y.publishId:""," - ",y.title?y.title:"")))),i.a.createElement(d.Grid,{item:!0,lg:7,md:7,xs:12,style:{marginTop:10}},i.a.createElement(q,{publishies:s,executeAfterAction:Ae,detailActions:!0,status:be.status,edited:se,valuesDetail:be,handleRefreshClick:Ae,requiredFields:oe})))),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Divider,{style:{margin:0}})),i.a.createElement(d.Grid,{item:!0,xs:12},oe.find((function(e){return!be[e.field]}))&&i.a.createElement(pe.Alert,{severity:"error"},i.a.createElement(pe.AlertTitle,{style:{fontSize:17}},"Campos obrigat\xf3rios para publicar o An\xfancio"),i.a.createElement(d.Grid,{container:!0},oe.filter((function(e){return!be[e.field]})).map((function(e){return i.a.createElement(d.Grid,{item:!0,xs:12,md:6,style:{paddingTop:10}},i.a.createElement("p",{style:{marginBottom:0}},"- ",e.message))}))))),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Grid,{container:!0,spacing:1,style:{padding:10}},i.a.createElement(d.Grid,{item:!0,lg:6,md:6,xs:12},i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xs:12},i.a.createElement("p",{style:{fontSize:15}}," ",i.a.createElement("b",null,"Dados Gerais:"))),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:8,lg:8,md:8,sm:8,xs:12},i.a.createElement(S.a.Input,{autoFocus:!0,label:"T\xedtulo*",name:"title",value:be.title,onChange:me,error:ge.title})),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Select,{name:"sellerId",label:"Empresa*",value:be.sellerId,noEmpty:!0,onChange:me,options:o,error:ge.sellerId})),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Select,{name:"condition",label:"Condi\xe7\xe3o*",value:be.condition,onChange:me,disabled:!ee,options:[{id:"new",title:"Novo"},{id:"used",title:"Usado"}],error:ge.condition})),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Select,{name:"listingType",label:"Tipo de An\xfancio*",noEmpty:!0,value:be.listingType,onChange:me,options:[{id:"gold_pro",title:"Premium"},{id:"gold_special",title:"Cl\xe1ssico"}],error:ge.listingType})),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Select,{name:"shipMode",label:"Modo de Envio*",noEmpty:!0,value:be.shipMode,onChange:me,options:[{id:"me1",title:"Mercado Envios 1"},{id:"me2",title:"Mercado Envios 2"}],error:ge.shipMode})),ee&&i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Select,{name:"marketPlaceId",label:"Conta",noEmpty:!0,value:be.marketPlaceId,onChange:me,disabled:be.status&&"pending"!=be.status,options:f,error:ge.marketPlaceId})),i.a.createElement(d.Grid,{item:!0,style:{marginTop:10,paddingLeft:5,paddingRight:5},xs:12},i.a.createElement(d.Typography,null,"Descri\xe7\xe3o*"),i.a.createElement(d.TextField,{name:"description",rows:5,value:be.description,onChange:me,error:ge.description,fullWidth:!0,multiline:!0,inputProps:{maxLength:5e3}})),i.a.createElement(d.Grid,{item:!0,style:{marginTop:10,marginBottom:10,paddingLeft:5,paddingRight:5},xs:12},i.a.createElement(A.a,null,i.a.createElement(P.a,{expandIcon:i.a.createElement(R.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},i.a.createElement(d.Typography,null,"Categoria*")),i.a.createElement(T.a,null,i.a.createElement($,{publishCategory:be.category,onSetCategory:function(e){K(e,(function(e){var t,a=[],n=[],r=ke(e.groups);try{for(r.s();!(t=r.n()).done;){var i,o=ke(t.value.components);try{for(o.s();!(i=o.n()).done;){var l=i.value;a.push.apply(a,xe(l.attributes))}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}var c,s=ke(a.filter((function(e){return e.tags.find((function(e){return"catalog_required"==e}))})));try{for(s.s();!(c=s.n()).done;){var u=c.value;n.push({field:u.id,message:"O Campo Ficha T\xe9cnica do An\xfancio > ".concat(u.name," \xe9 obrigat\xf3rio")})}}catch(e){s.e(e)}finally{s.f()}le([].concat(ne,n)),w([].concat(a))}),(function(e){return ae(e,{variant:"error"})})),v(Ce(Ce({},be),{},{category:e})),Ie(e)},status:be.status})))),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Select,{name:"warrantyType",label:"Garantia*",noEmpty:!0,value:be.warrantyType,onChange:function(e){me(e),"Sem garantia"==e.target.value&&je(Ce(Ce({},be),{},{warrantyType:"Sem garantia",warrantyTime:"0",warrantyTimeUnit:"dias"}))},options:X.find((function(e){return"WARRANTY_TYPE"==e.id}))?X.find((function(e){return"WARRANTY_TYPE"==e.id})).values.map((function(e){return{id:e.name,name:e.name}})):[],error:ge.warrantyType})),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Input,{label:"Tempo da Garantia*",name:"warrantyTime",value:be.warrantyTime,onChange:function(e){e.target.value=e.target.value.replace(/\D/g,""),me(e)},error:ge.warrantyTime,inputProps:{maxLength:3}})),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:5,paddingRight:5},xl:4,lg:4,md:4,sm:4,xs:12},i.a.createElement(S.a.Select,{label:"Tipo de Garantia*",name:"warrantyTimeUnit",noEmpty:!0,value:be.warrantyTimeUnit,onChange:me,options:X.find((function(e){return"WARRANTY_TIME"==e.id}))?X.find((function(e){return"WARRANTY_TIME"==e.id})).allowed_units:[],error:ge.warrantyTimeUnit})),be.category&&i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Typography,{style:{paddingLeft:5,paddingRight:5,marginTop:10}},"Ficha T\xe9cnica - An\xfancio"),i.a.createElement(d.Grid,{container:!0},i.a.createElement(re,{listData:I.filter((function(e){return!e.tags.find((function(e){return"read_only"==e||"variation_attribute"==e||"allow_variations"==e}))})).sort((function(e,t){return e.relevance<t.relevance?-1:e.relevance>t.relevance?1:0})),values:be,errors:ge,handleInputChange:me}))))),i.a.createElement(d.Grid,{item:!0,lg:6,md:6,xs:12},i.a.createElement(d.Grid,{container:!0,spacing:1,style:{padding:10}},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement("b",null,"Resumo do An\xfancio:")),i.a.createElement(d.Grid,{item:!0,xs:6,style:{marginTop:7}},y&&y.quality&&i.a.createElement("div",{className:t.root},i.a.createElement(D.a,{variant:"determinate",style:{height:12,borderRadius:10,opacity:"0.5"},value:y&&y.quality&&100*y.quality.health}))),i.a.createElement(d.Grid,{item:!0,xs:6},y&&y.quality&&i.a.createElement("b",{style:{color:"primary"}}," ",y&&y.quality&&100*y.quality.health>60?y.quality.health.toLocaleString("pt-BR",{style:"percent",minimumFractionDigits:0})+"Exencente":y.quality.health.toLocaleString("pt-BR",{style:"percent",minimumFractionDigits:0})+" Baixa")),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Icon,{style:{color:"Goldenrod",fontSize:"17px",marginRight:"5px"}},"local_offer"),"new"===y.condition?"Novo":"Usado"),i.a.createElement(d.Grid,{item:!0,xs:12},"me1"===y.shipMode?i.a.createElement(d.Icon,{style:{color:"LightSeaGreen",fontSize:"17px",marginRight:"5px"}},"local_shipping"):i.a.createElement(d.Icon,{style:{color:"yellow",fontSize:"17px",marginRight:"5px"}},"local_shipping"),"me1"===y.shipMode?"Mercado Envios 1":"Mercado Envios 2"),i.a.createElement(d.Grid,{item:!0,xs:12},"gold_special"===y.listingType?i.a.createElement(d.Icon,{style:{color:"DarkKhaki",fontSize:"17px",marginRight:"5px"}},"inventory_2"):i.a.createElement(d.Icon,{style:{color:"MediumSlateBlue",fontSize:"17px",marginRight:"5px"}},"diamond"),"gold_special"===y.listingType?"Cl\xe1ssico":"Premium"),i.a.createElement(d.Grid,{item:!0,xs:12},"active"===y.status?i.a.createElement(d.Icon,{style:{color:"green",fontSize:"17px",marginRight:"5px"}},"play_circle"):i.a.createElement(d.Icon,{style:{color:"red",fontSize:"17px",marginRight:"5px"}},"paused"),"active"===y.status?"Ativo":"Pausado"),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Icon,{style:{color:"Goldenrod",fontSize:"17px",marginRight:"5px"}},"storefront"),"Mercado Livre"),"paused"===y.status&&i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Icon,{style:{color:"red",fontSize:"17px",marginRight:"5px"}},"cancel"),"out_of_stock"==y.sub_status?"Pausa por falta de Estoque":"Pausa Manual"),i.a.createElement(d.Grid,{item:!0,xs:12},y.freezedByDeal?i.a.createElement(d.Icon,{style:{fontSize:"17px",marginRight:"5px",color:"yellow"}},"lock"):i.a.createElement(d.Icon,{style:{fontSize:"17px",marginRight:"5px",color:"blue"}},"lock_open"),y.freezedByDeal?"Trava de An\xfancio H\xe1bilitada":"Trava de An\xfancio Desabilitada"),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Icon,{style:{fontSize:"17px",marginRight:"5px",color:"DodgerBlue"}},"shopping_cart"),"Total Vendas: ",y.sold),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement("b",{style:{marginTop:20}},"Varia\xe7\xf5es*"),i.a.createElement(d.List,null,be.variations&&be.variations.map((function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.Divider,null),i.a.createElement(d.ListItem,{button:!0,onClick:function(){e.open=!e.open,v(Ce({},be))}},i.a.createElement(d.Grid,{Item:!0},i.a.createElement(d.ListItemAvatar,null,i.a.createElement(d.Avatar,{variant:"circle",alt:e.sku?e.sku:""},i.a.createElement("img",{src:e.images&&e.images.length>0&&e.images[0]}),e.sku?e.sku.charAt(0):""))),i.a.createElement(d.ListItemText,{primary:e.sku,secondary:"".concat(e.price&&e.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})," | ").concat(e.quantity," dispon\xedveis")}),i.a.createElement(d.IconButton,{disabled:!!e._id,onClick:function(){return L(e.sku)}},i.a.createElement(d.Icon,null,"delete")),i.a.createElement(d.Icon,null,e.open?"expand_less":"expand_more")),i.a.createElement(d.Collapse,{in:e.open,timeout:"auto",unmountOnExit:!0},i.a.createElement(d.Grid,{container:!0,spacing:2,style:{paddingTop:10,paddingBottom:10}},i.a.createElement(d.Grid,{item:!0,lg:12,sm:12,xs:12},i.a.createElement(Q.a,{onNewFile:function(e,a){return function(e,t,a){var n,r,i=void 0!=a?be.variations[a]:be,o=B.find((function(e){return e.sku==i.sku}));o?(o.images||(o.images=[]),(r=o.images).push.apply(r,xe(t))):B.push({sku:i.sku,images:t});M(xe(B)),i.images||(i.images=[]),(n=i.images).push.apply(n,xe(e)),setProductData(Ce({},be))}(e,a,t)},onRemove:function(t){return a=e.sku,n=t,(r=be.variations.find((function(e){return e.sku==a}))).images=r.images.filter((function(e){return e!=n})),void v(Ce({},be));var a,n,r},files:e.images,sizeLimit:10485760})),i.a.createElement(d.Grid,{item:!0,lg:12,sm:12,xs:12},i.a.createElement(re,{listData:I.filter((function(e){return!e.tags.find((function(e){return"read_only"==e}))})).filter((function(e){return e.tags.find((function(e){return"allow_variations"==e}))})),values:be,errors:ge,handleInputChange:me,variation:e.sku})),i.a.createElement(d.Grid,{item:!0,lg:12,sm:12,xs:12},i.a.createElement(d.Paper,{component:"ul",style:{display:"flex",flexWrap:"wrap",listStyle:"none",padding:5,margin:0}},i.a.createElement("li",{key:0},i.a.createElement(d.Button,{startIcon:i.a.createElement(d.Icon,null,"add"),style:{marginRight:5},onClick:function(){N({sku:e.sku,category:be.category,open:!0,attributes:e.attributes})}},"Caracter\xedstica da Varia\xe7\xe3o")),Array.isArray(e.attributes)&&e.attributes.filter((function(e){return e.custom})).map((function(t,a){return i.a.createElement("li",{key:t.id},i.a.createElement(p.a,{style:{marginTop:2,marginRight:5},label:"".concat(t.name,": ").concat(t.value_name),onDelete:function(){e.attributes.splice(a,1),je(Ce({},be))}}))})))),i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(A.a,null,i.a.createElement(P.a,{expandIcon:i.a.createElement(R.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},i.a.createElement(d.Typography,null,"Ficha T\xe9cnica - Varia\xe7\xe3o")),i.a.createElement(d.Typography,null,i.a.createElement(d.Grid,{container:!0,style:{padding:10}},i.a.createElement(re,{listData:I.filter((function(e){return!e.tags.find((function(e){return"read_only"==e}))})).filter((function(e){return e.tags.find((function(e){return"variation_attribute"==e}))})).sort((function(e,t){return e.relevance<t.relevance?-1:e.relevance>t.relevance?1:0})),values:be,errors:ge,handleInputChange:me,variation:e.sku}))))))))})),i.a.createElement(d.Divider,null),i.a.createElement(d.ListItem,{button:!0,onClick:function(){Oe(Ce({},y))},style:{paddingTop:15,paddingBottom:15}},i.a.createElement(d.ListItemAvatar,null,i.a.createElement(d.Avatar,null,i.a.createElement(d.Icon,null,"add"))),i.a.createElement(d.ListItemText,{primary:"Adicionar Varia\xe7\xf5es"})),i.a.createElement(d.Divider,null)))))))))),i.a.createElement(we,{publish:Se,handleSelectSku:function(e){be.variations.find((function(t){return t.sku==e.sku}))?ae("A varia\xe7\xe3o ".concat(e.sku," j\xe1 existe no an\xfancio."),{variant:"error"}):(be.variations.push({sellerId:e.sellerId,marketPlaceId:y.marketPlaceId,platformId:y.platformId,images:e.images,price:e.price,publishId:y.publishId,quantity:e.stock,sku:e.sku}),v(Ce({},be)))}}),i.a.createElement(fe,{setOpen:N,open:F.open,publishData:F,onSubmit:function(e){var t=be.variations&&be.variations.length>0?be.variations.find((function(t){return t.sku==e.sku})):be;t&&(t.attributes||(t.attributes=[]),t.attributes.push({name:e.attId,value_name:e.attValues,custom:!0})),je(be)}}))}a("8f21f37b72d60bedc064");var De=a("a9d46fa1f298693c7c0e"),Be=a("64f8e359e5376d31c8d3"),Me=a("f6fdf20525458cb0b079"),ze=a.n(Me),Fe=a("2862a523e031319710f7"),qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Planilha",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.addWorksheet(t);return n.columns=a,n},Ne=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=0;a<t.length;a++)e.addRow(t[a])};function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(a),!0).forEach((function(t){We(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function We(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xe(){return(Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"===typeof e)return $e(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function He(e){var t=Object(d.useTheme)(),a=Object(d.useMediaQuery)(t.breakpoints.down("sm")),o=Object(n.useHistory)(),c=Object(d.makeStyles)((function(e){return{grid:{padding:"0 15px !important",marginBottom:10},gridContainer:{margin:"0 -15px !important",width:"unset"},downloadProgress:{color:"primary",marginRight:0,position:"relative",top:14}}})),m=e.location.pathname.split("/"),f=Je(Object(r.useState)(m.length>2&&m[2]?m[2]:void 0),2),g=f[0],E=f[1];(m=m.length>2&&m[2]?m[2]:void 0)!=g&&E(m);var S=c(),I="An\xfancios - ".concat(y.a.name),w=y.a.desc,x=e.intl,A=(i.a.forwardRef((function(e,t){return i.a.createElement(d.Slide,Xe({direction:"up",ref:t},e))})),Je(Object(r.useState)([]),2)),C=A[0],P=A[1],G=Je(Object(r.useState)(!1),2),T=G[0],L=G[1],R=Je(Object(r.useState)(!1),2),_=R[0],D=R[1],B=Je(Object(r.useState)([]),2),M=B[0],z=B[1],F=Je(Object(r.useState)(!1),2),N=F[0],V=F[1],W=Je(Object(r.useState)([]),2),X=W[0],J=W[1],Y=Je(Object(r.useState)([]),2),$=Y[0],H=Y[1],K=Object(O.useSnackbar)().enqueueSnackbar,Q=Je(Object(r.useState)([]),2),Z=Q[0],ee=Q[1],te=Je(Object(r.useState)(!1),2),ae=te[0],ne=te[1],re=Je(Object(r.useState)(Ue({page:0,total:0,totalStatus:[]},JSON.parse(sessionStorage.getItem("publishState")))),2),ie=re[0],oe=re[1],le=new URLSearchParams(e.location.search).get("status")?{status:[new URLSearchParams(e.location.search).get("status")]}:{},ce=Je(Object(r.useState)(Ue(Ue({limit:25,offset:0},JSON.parse(sessionStorage.getItem("publishFilter"))),le)),2),se=ce[0],ue=ce[1],me=function(){V(!0),Object(h.b)("get","/publish/report",(function(e){pe(e),V(!1)}),(function(e){return K(e,{variant:"error"})}),{},{params:Ue(Ue({},se),{},{limit:1e4})})},de=Je(Object(r.useState)(),2),fe=de[0],pe=de[1];Object(r.useEffect)((function(){fe&&(fe.workbook||(fe.workbook=new ze.a.Workbook,fe.worksheet=qe(fe.workbook,"An\xfancios",fe.columns),Ne(fe.worksheet,fe.items),delete fe.items),Object(h.b)("get","/publish/report",(function(e){var t,a;e.items.length>0?(Ne(fe.worksheet,e.items),Number.isInteger(fe.offset/5e4)&&(fe.worksheet=qe(fe.workbook,"An\xfancios-".concat(fe.offset/5e4),fe.columns)),pe(Ue(Ue({},fe),{},{offset:fe.offset+fe.limit}))):(t=fe.workbook,a="RelatorioAnuncios.xlsx",t.xlsx.writeBuffer({base64:!0}).then((function(e){return Object(Fe.saveAs)(new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a)})).catch((function(e){return console.log(e)})),V(!1))}),(function(e){return K(e,{variant:"error"})}),{},{params:Ue(Ue({},se),{},{limit:fe.limit,offset:fe.offset+fe.limit})}))}),[fe]);var be=function(e){var t,a,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];oe(Ue(Ue({},ie),{},{total:e.total,totalStatus:e.totalStatus})),r.length>0&&r(e.items.map((function(e){switch(e.condition){case"new":t="Novo";break;case"used":t="Usado"}switch(e.oficialStore){case 224:a="Loja 224";break;case 1370:a="Loja 1370";break;case 2757:a="Loja 2757"}switch(e.listingType){case"gold_pro":n="Premium";break;case"gold_special":n="Cl\xe1ssico"}return Ue(Ue({},e),{},{condition:t,oficialStore:a,listingType:n})}))),L(!1)},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=e||se,Object(h.b)("get","/user/superuser",(function(e){ne(e)}),(function(e){return K(Object(U.a)(e),{variant:"error"})})),Object(h.b)("get","/publish/list",(function(e){be(e,t),L(!1),D(!1)}),(function(e){return K(e,{variant:"error"})}),{},{params:Ue({},e)})};Object(r.useEffect)((function(){ge(se,P)}),[se]);var ye=[{name:"items",label:" ",options:{customBodyRenderLite:function(e){var t=C[e];return i.a.createElement(l.a,{variant:"circular",alt:t.title,src:Array.isArray(t.skuXPublish)&&t.skuXPublish.length>0&&Array.isArray(t.skuXPublish[0].images)&&t.skuXPublish[0].images.length>0&&t.skuXPublish[0].images[0],style:{width:45,height:45}},t.title?t.title.charAt(0):"")}}},{name:"title",label:"Produto",options:{customBodyRenderLite:function(e){var t=C[e];return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{style:{fontSize:11}},ae&&t.publishId,ae&&t.link&&i.a.createElement(d.IconButton,{onClick:function(){window.open(t.link,"_blank").focus()},size:"small"},i.a.createElement(d.Icon,{style:{fontSize:11,marginTop:-3}},"open_in_new"))),i.a.createElement("p",{style:{fontSize:13,maxWidth:280}},i.a.createElement("b",null,t.title)),i.a.createElement("p",{style:{fontSize:11,marginBottom:0}},t.sold>=0&&i.a.createElement(i.a.Fragment,null,t.sold,"  vendas"),"  ",t.lastSync&&i.a.createElement(i.a.Fragment,null,i.a.createElement(d.Tooltip,{arrow:!0,title:"Data da \xfaltima sincroniza\xe7\xe3o"},i.a.createElement(d.Icon,{style:{fontSize:10,paddingTop:1}},"sync")),new Date(t.lastSync).toLocaleDateString()," ",new Date(t.lastSync).toLocaleTimeString())))},display:!0,sort:!1}},{name:"publishId",label:"Detalhes",options:{display:!0,sort:!1,customBodyRenderLite:function(e){var t=C[e];return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.Grid,{container:!0,style:{minWidth:150}},t.growStore&&i.a.createElement(d.Grid,{item:!0,style:{}},i.a.createElement(d.Tooltip,{title:"Loja Oficial - Grow Store",arrow:!0},i.a.createElement(d.Icon,{color:"primary",style:{fontSize:16}},"store"))),t.condition&&i.a.createElement(d.Grid,{item:!0},i.a.createElement(d.Tooltip,{title:"Condi\xe7\xe3o do an\xfancio - ".concat(t.condition),arrow:!0},i.a.createElement(d.Icon,{color:"primary",style:{fontSize:16}},"verified"))),t.shipMode&&i.a.createElement(d.Grid,{item:!0,style:{paddingRight:3}},i.a.createElement(d.Tooltip,{title:"Forma de Entrega - ".concat(t.shipMode),arrow:!0},i.a.createElement(d.Icon,{color:"primary",style:{fontSize:16}},"local_shipping")))),t.skuXPublish[0]&&t.skuXPublish[0].price&&i.a.createElement(d.Tooltip,{title:"Pre\xe7o",arrow:!0},i.a.createElement("p",{style:{marginBottom:0}},t.skuXPublish[0].price.toLocaleString("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}))),i.a.createElement(d.Tooltip,{title:"Estoque",arrow:!0},i.a.createElement("p",{style:{marginBottom:0,fontSize:12}},t.skuXPublish[0]&&t.skuXPublish[0].quantity?t.skuXPublish[0].quantity:0," Dispon\xedveis")))}}},{name:"sellerName",label:"Empresa",options:{display:!0,sort:!1}},{name:"marketPlaceName",label:"Conta",options:{display:!1,sort:!1}},{name:"Status",label:"Status",options:{display:!0,customBodyRenderLite:function(e){var t={};switch(C[e].status){case"active":t.label="Ativo",t.color="lime";break;case"paused":t.label="Em Pausa",t.color="#FFD700";break;case"pending":t.label="Pendente",t.color="orange";break;case"closed":t.label="Finalizado",t.color="red";break;case"unlinked":t.label="Desvinculado",t.color="grey";break;case"inactive":t.label="Inativo",t.color="grey"}return i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Grid,{container:!0,justifyContent:"flex-start"},i.a.createElement(p.a,{icon:i.a.createElement(d.Icon,{style:{fontSize:"18px",color:t.color}},"lens"),label:t.label}))))}}},{name:"optionsButton",label:" ",options:{display:!0,sort:!1,customBodyRenderLite:function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.Grid,{container:!0,justifyContent:"flex-end"},i.a.createElement(d.Tooltip,{title:"Editar detalhes"},i.a.createElement(j.a,{onClick:function(){return function(e,t){o.push("".concat(t.location.pathname,"/").concat(e.publishId))}(C[t],e)},icon:"edit",label:"Detalhes"}))))}}}],he={serverSide:!0,rowsPerPage:se.limit,page:ie.page,rowsPerPageOptions:[25,50,100],count:ie.total,filter:!1,search:!1,sort:!1,print:!1,download:!1,jumpToPage:!0,viewColumns:!1,isRowExpandable:function(e,t){var a=C[e];return a.skuXPublish&&a.skuXPublish.length>0},expandableRows:!0,renderExpandableRow:function(e,t){var a=C[t.dataIndex];return i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.List,null,a.skuXPublish&&a.skuXPublish.map((function(e){return i.a.createElement(d.ListItem,{style:{paddingLeft:85}},i.a.createElement(d.Grid,{container:!0,spacing:2},i.a.createElement(d.Grid,{item:!0},i.a.createElement(l.a,{variant:"circle",style:{marginTop:3}},i.a.createElement("img",{src:e.images?e.images[0]:[]}),i.a.createElement("b",null,e.sku.charAt(0)))),i.a.createElement(d.Grid,{item:!0,style:{paddingLeft:20},lg:3,sm:3,xs:12},i.a.createElement("b",null,e.sku),i.a.createElement("p",{style:{marginBottom:0,fontSize:15}},"R$ ".concat(e.price?e.price.toLocaleString("pt-BR"):"0")+"  |  "+(e.quantity?e.quantity:"")+" Dispon\xedveis")),i.a.createElement(d.Grid,{item:!0,lg:8,sm:8,xs:12},i.a.createElement(d.Tooltip,{title:"Atributos"},i.a.createElement(d.Button,{onClick:function(){J(e.attributes||[]),H(e||[]),z(a)},style:{marginRight:"%",marginTop:10},disabled:!Array.isArray(e.attributes)||0==e.attributes.length},i.a.createElement(d.Icon,null,"open_in_new"),"Atributos")))))})))))},setTableProps:function(){return{size:"small"}},filterType:"multiselect",textLabels:Object(v.a)(x),responsive:"simple",customToolbar:function(){return i.a.createElement(d.Grid,{container:!0,justifyContent:"flex-end",style:{padding:10}},i.a.createElement(q,{publishies:Z,executeAfterAction:ge,handleDownloadClick:me,handleRefreshClick:ge,isDownloading:N}),N&&i.a.createElement(d.CircularProgress,{size:24,style:{position:"absolute",right:195,zIndex:1,color:De.green[500]}}))},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!0,useDisplayedRowsOnly:!0}},onTableChange:function(e,t){if("changePage"!=e&&"changeRowsPerPage"!=e||(oe(Ue(Ue({},ie),{},{page:t.page})),ue(Ue(Ue({},se),{},{offset:se.limit*t.page,limit:t.rowsPerPage})),sessionStorage.setItem("publishFilter",JSON.stringify(Ue(Ue({},se),{},{offset:se.limit*t.page,limit:t.rowsPerPage}))),sessionStorage.setItem("publishState",JSON.stringify({page:t.page,total:ie.total?ie.total:0,rowsPerPage:t.rowsPerPage}))),"rowSelectionChange"==e){var a,n=[],r=function(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Ye(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw i}}}}(t.selectedRows.data);try{for(r.s();!(a=r.n()).done;){var i=a.value,o=C[i.dataIndex];o&&n.push({publishId:o.publishId,marketPlaceId:o.marketPlaceId,sellerId:o.sellerId,status:o.status,complete:o.complete})}}catch(e){r.e(e)}finally{r.f()}ee(n)}},customToolbarSelect:function(e){return i.a.createElement(i.a.Fragment,null)},selectToolbarPlacement:"none"};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null),i.a.createElement(u.Helmet,null,i.a.createElement("title",null,I),i.a.createElement("meta",{name:"description",content:w}),i.a.createElement("meta",{property:"og:title",content:I}),i.a.createElement("meta",{property:"og:description",content:w}),i.a.createElement("meta",{property:"twitter:title",content:I}),i.a.createElement("meta",{property:"twitter:description",content:w})),i.a.createElement(d.Grid,{container:!0},!g&&i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(Be.a,{icon:"dvr",label:"An\xfancios"}),i.a.createElement(d.Paper,null,i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(k,{filter:se,setFilter:ue,filterSubmit:function(e){sessionStorage.setItem("publishFilter",JSON.stringify(Ue(Ue({},e),{},{limit:25,offset:0}))),ue(Ue(Ue({},e),{},{limit:25,offset:0}))},user:ae,isLoading:T,setIsLoading:L,clearIsLoading:_,setClearIsLoading:D})),i.a.createElement(d.Grid,{item:!0,xs:12,style:{zIndex:"1"}},i.a.createElement(b.a,{data:C,columns:ye,options:he}))))),g&&i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(_e,{publishId:g,intl:x}))),i.a.createElement(d.Dialog,{fullScreen:a,open:X.length>0,onClose:function(){J([])},fullWidth:!0},i.a.createElement(d.AppBar,{style:{position:"relative",paddingRight:0}},i.a.createElement(d.Toolbar,null,i.a.createElement(d.IconButton,{edge:"start",color:"grey",onClick:function(){J([])},"aria-label":"Sair"},i.a.createElement(s.a,null)),i.a.createElement(d.Typography,{variant:"h6",className:S.title},"Atributos ",$.sku," - ",$.publishId))),i.a.createElement(d.DialogContent,null,X.map((function(e,t){return 0==t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0,xs:12},i.a.createElement(d.Grid,{container:!0},i.a.createElement(d.Grid,{item:!0},i.a.createElement(l.a,{alt:e.value_name?e.value_name:"",variant:"circle"},i.a.createElement("img",{src:$.images?$.images[0]:[]}),e.value_name?e.value_name.charAt(0):"")),i.a.createElement(d.Grid,{item:!0,style:{marginLeft:20}},i.a.createElement("b",null,$.sku),i.a.createElement("p",{style:{marginBottom:0,fontSize:15}},"R$ ".concat($.price?$.price.toLocaleString("pt-BR"):"0")+"  |  "+($.quantity?$.quantity:"")+" Dispon\xedveis"))))),i.a.createElement(d.Grid,{item:!0,xs:12,style:{marginTop:15}},i.a.createElement(d.Grid,{container:!0,spacing:1},i.a.createElement(d.Grid,{item:!0},i.a.createElement(p.a,{label:"".concat(e.name?e.name:"",": ").concat(e.value_name?e.value_name:"")})),Array.isArray(M.attributes)&&M.attributes.length>0?M.attributes.map((function(e){return i.a.createElement(d.Grid,{item:!0},!e.custom&&i.a.createElement(p.a,{label:"".concat(e.name?e.name:"",": ").concat(e.value_name?e.value_name:"")}))})):"")))})))))}He.propTypes={intl:m.intlShape.isRequired};t.default=Object(m.injectIntl)(He)}}]);