(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"901f736679e6e67d3171":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ee}));var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),i=n("0d939196e59ed73c94e6"),l=n("ab039aecd4a1d4fedc0e"),o=n("f8d3582cb63722b51e34"),c=n("e1f4d4d03e3022cb8ad7"),d=(n("5524cc56e9066ebc5083"),n("94281e88d4b6df28bd8f")),m=n.n(d),u=n("ef58856f4f875bd36582"),s=n.n(u),f=n("6580e3a841bd6dc9a0fe"),g=n("1c2538367908c46ee10d"),p=n("1a4ed1ba7965942fe077"),y=n("d1f8212a47a511a9ad3a"),b=n("e1d597c8abc5a3008a44"),E=n("ab1a0a5ba7e3194003b1"),h=n("bf25f59755b69bd98fe0");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=O(Object(r.useState)([]),2),n=t[0],l=t[1],o=O(Object(r.useState)(!1),2),c=o[0],d=o[1],m=O(Object(r.useState)([{startDate:new Date,endDate:Object(h.addDays)(new Date,7),key:"selection"}]),2),u=m[0],s=m[1],S=Object(y.useSnackbar)().enqueueSnackbar;Object(r.useEffect)((function(){var e=v({},u);I.dateFrom=e[0].startDate,I.dateTo=e[0].endDate}),[]);var j=e.filter,G=e.setFilter,x=e.isLoading,R=e.clearIsLoading,B=e.setClearIsLoading,w=e.setIsLoading,L=function(){var e=v({},u);I.dateFrom=e[0].startDate,I.dateTo=e[0].endDate,G(I),w(!0)},C=Object(f.b)(j,!0,L,[]),I=C.values,T=C.errors,F=C.handleInputChange,D=C.handleSubmit;Object(r.useEffect)((function(){Object(p.b)("get","/selectlist/sellerid",l,(function(e){return S(e,{variant:"error"})}))}),[]);return a.a.createElement(f.a,{onSubmit:D},a.a.createElement(i.Grid,{container:!0,spacing:1},a.a.createElement(i.Grid,{item:!0,xs:6,lg:3,style:{paddingTop:0,paddingBottom:0}},a.a.createElement(g.a.DatePicker,{label:"Per\xedodo de:",name:"dateFrom",value:I.dateFrom,onChange:function(){return d(!0)},onClick:function(){return d(!0)},error:T.dateFrom})),a.a.createElement(i.Grid,{item:!0,xs:6,lg:3,style:{paddingTop:0,paddingBottom:0}},a.a.createElement(g.a.DatePicker,{label:"At\xe9:",name:"dateTo",value:I.dateTo,onChange:function(){return d(!0)},onClick:function(){return d(!0)},error:T.dateTo})),a.a.createElement(i.Grid,{item:!0,xs:6,lg:3,style:{paddingTop:0,paddingBottom:0}},a.a.createElement(g.a.MultiSelect,{label:"Status",name:"paymentStatus",value:I.paymentStatus,onChange:function(e){F(e)},options:[{id:"received",title:"Recebido",checked:"false"},{id:"concluded",title:"Conclu\xeddo",checked:"false"},{id:"pending",title:"Pendente",checked:"false"}],error:T.paymentStatus})),a.a.createElement(i.Grid,{item:!0,xs:6,lg:3,style:{paddingTop:0,paddingBottom:0}},a.a.createElement(g.a.Input,{label:"Venda",name:"orderId",value:I.orderId,onChange:function(e){F(e)},error:T.orderId})),a.a.createElement(i.Grid,{item:!0,xs:6,lg:3,style:{paddingTop:0,paddingBottom:0}},a.a.createElement(g.a.MultiSelect,{name:"sellerId",label:"Empresa",value:I.sellerId,onChange:function(e){F(e)},options:n,error:T.sellerId})),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,spacing:1,justifyContent:"flex-start"},a.a.createElement(i.Grid,{item:!0},a.a.createElement(b.a,{icon:"filter_list",type:"submit",isLoading:x,disabled:x,label:"Filtrar"})),a.a.createElement(i.Grid,{item:!0},a.a.createElement(b.a,{onClick:function(){return G({limit:25,offset:0}),B(!0),void resetForm()},label:"Limpar Filtros",isLoading:R,disabled:R,icon:"clear"}))))),a.a.createElement(i.Dialog,{open:c,onClose:function(){return d(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(i.DialogTitle,{id:"alert-dialog-title"},"Selecione o periodo"),a.a.createElement(i.DialogContent,null,a.a.createElement(i.Grid,{item:!0,style:{marginTop:-5},sm:6,lg:3,xs:12},a.a.createElement(E.DateRange,{editableDateInputs:!0,onChange:function(e){return s([e.selection])},moveRangeOnFirstSelection:!1,ranges:u}))),a.a.createElement(i.DialogActions,null,a.a.createElement(b.a,{onClick:function(){L(),d(!1)},color:"primary",label:"Selecionar"}),a.a.createElement(b.a,{onClick:function(){return d(!1)},color:"primary",label:"Cancelar"}))))}var R=n("5ff6c0339b5dfabc6e55"),B=n("01d3b8d5edf7931b16b6");function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=Object(l.injectIntl)((function(e){e.listView,e.setListView;var t=w(Object(r.useState)(!1),2),n=t[0],l=t[1],o=w(Object(r.useState)(!1),2),c=o[0],d=o[1],m=w(Object(r.useState)({}),2),u=m[0],s=(m[1],Object(y.useSnackbar)().enqueueSnackbar),E=w(Object(r.useState)([]),2),h=E[0],S=E[1],v=function(e){d(e),e&&Object(p.b)("get","/selectlist/sellerId",(function(e){S(e)}))},j=Object(f.b)(u,!0,(function(){l(!0),Object(p.b)("get","/ordermoney/report",(function(e){var t=[Object(R.a)(e.Recebido?e.Recebido:[],"Recebido"),Object(R.a)(e.Pendente?e.Pendente:[],"Pendente")];Object(R.d)("RelatorioFinanceiro.xlsx",t),l(!1),v(!1)}),(function(e){s(e,{variant:"error"}),l(!1)}),{},{headers:{sellerId:O.sellerId}})}),[]),O=j.values,G=j.errors,x=j.handleInputChange,B=j.handleSubmit;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Grid,{container:!0,spacing:2,justifyContent:"flex-end",style:{marginTop:10}},a.a.createElement(b.a,{icon:"download",label:"Relat\xf3rio",onClick:function(){return v(!0)}})),a.a.createElement(i.Dialog,{open:c,onClose:function(){v(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(f.a,{onSubmit:B},a.a.createElement(i.DialogTitle,{id:"alert-dialog-title"},"Gerar Relat\xf3rio de Fechamento"),a.a.createElement(i.DialogContentText,{style:{padding:25},id:"alert-dialog-description"},'O relat\xf3rio de Fechamento cont\xe9m o extrato de movimenta\xe7\xf5es "Recebidas" e "Pendentes".'),a.a.createElement(i.DialogContent,null,a.a.createElement(g.a.Select,{disabled:e.disabled,name:"sellerId",label:"Empresa",value:O.sellerId,onChange:x,options:h,error:G.sellerId})),a.a.createElement(i.DialogActions,null,n&&a.a.createElement(i.CircularProgress,{size:24,style:{marginLeft:15,position:"relative",top:4}}),a.a.createElement(i.Button,{type:"submit",color:"primary",autoFocus:!0},"Gerar"),a.a.createElement(i.Button,{onClick:function(){return v(!1)},color:"primary",autoFocus:!0},"Fechar")))))}));function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=Object(l.injectIntl)((function(e){var t=e.intl,n=(e.seller,D(Object(r.useState)([]),2)),l=(n[0],n[1]),d=D(Object(r.useState)([]),2),u=d[0],f=d[1],g=D(Object(r.useState)([]),2),E=g[0],h=g[1],S=D(Object(r.useState)(!0),2),v=S[0],j=S[1],O=D(Object(r.useState)(!1),2),G=O[0],R=O[1],B=Object(y.useSnackbar)().enqueueSnackbar,w=D(Object(r.useState)(T({page:0,total:0,totalStatus:[]},JSON.parse(localStorage.getItem("moneyState")))),2),L=w[0],I=w[1],F={limit:25,offset:0},P=new URL(location.href).searchParams;P.get("seller")&&(F.sellerId=[P.get("seller")]),P.get("paymentStatus")&&(F.paymentStatus=P.get("paymentStatus").split(",")),P.get("month")&&P.get("year")&&(F.dateFrom=new Date(P.get("year"),P.get("month")-1,1),F.dateTo=new Date(P.get("year"),P.get("month"),0));var A=D(Object(r.useState)(F),2),k=A[0],z=A[1],_=function(){M()},M=function(){var e,t;l([]),k.dateFrom&&(e=new Date(k.dateFrom)).setHours(0,0,0,0),k.dateTo&&(t=new Date(k.dateTo)).setHours(23,59,59,999),Object(p.b)("get","/ordermoney/",(function(e){f(e.list),h(e.total),j(!1),R(!1)}),(function(e){return B(e,{variant:"error"})}),{},{params:T(T({},k),{},{dateFrom:e,dateTo:t})})};Object(r.useEffect)((function(){M()}),[k]);var N=[{name:"orderId",label:"Venda",options:{customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("b",{style:{fontSize:18}},t.orderId&&a.a.createElement(i.Chip,{icon:a.a.createElement(m.a,{style:{fontSize:14,marginLeft:10}}),label:t.orderId,onClick:function(){window.open("sale/general/".concat(t.orderId),"order").focus()}})))},display:!0,sort:!1}},{name:"paymentStatus",label:"Status",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("b",{style:{position:"relative"}},t.paymentStatus),t.payBack&&a.a.createElement(i.Tooltip,{title:"Transa\xe7\xe3o de estorno - Venda cancelada."},a.a.createElement(s.a,{style:{color:"rgba(255,90,40,1)",fontSize:14,marginLeft:5}},"cancel")))}}},{name:"sellerId",label:"Seller",options:{display:!1,sort:!1}},{name:"total",label:"Valor total",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginBottom:0,color:t.gross<0?"rgba(255,90,40,1)":"inherit"}},t.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))}}},{name:"saleFee",label:"Taxa ML",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginBottom:0,color:t.saleFee<0?"rgba(255,90,40,1)":"inherit"}},t.saleFee.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))}}},{name:"freight",label:"Frete",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginBottom:0,color:t.freight<0?"rgba(255,90,40,1)":"inherit"}},t.freight.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))}}},{name:"digiFee",label:"Taxa Digi",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginBottom:0,color:t.digiFee<0?"rgba(255,90,40,1)":"inherit"}},t.digiFee.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))}}},{name:"receivement",label:"Valor L\xedquido",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginBottom:0,color:t.receivement<0?"rgba(255,90,40,1)":"inherit"}},t.receivement.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))}}},{name:"newTansactionDate",label:"Data",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginBottom:0}},t.newTansactionDate))}}},{name:"sellerName",label:"Empresa",options:{sort:!1,customBodyRenderLite:function(e){var t=u[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginBottom:0}},t.sellerName))}}}],J={serverSide:!0,rowsPerPage:k.limit,page:L.page,rowsPerPageOptions:[25,50,100],count:E,filter:!1,search:!1,print:!1,download:!1,jumpToPage:!0,textLabels:Object(c.a)(t),responsive:"simple",selectableRowsHideCheckboxes:!0,viewColumns:!1,customToolbar:function(){return a.a.createElement(i.Grid,{container:!0,spacing:2,justifyContent:"flex-end"},a.a.createElement(i.Grid,{item:!0,lg:"auto",xs:6},a.a.createElement(b.a,{onClick:_,icon:"refresh",label:"Atualizar"})),a.a.createElement(i.Grid,{item:!0,lg:"auto",xs:5,style:{marginTop:-10,marginRight:18}},a.a.createElement(C,null)))},onTableChange:function(e,t){"changePage"!=e&&"changeRowsPerPage"!=e||(I(T(T({},L),{},{page:t.page})),z(T(T({},k),{},{offset:k.limit*t.page,limit:t.rowsPerPage})),localStorage.setItem("moneyState",JSON.stringify({page:t.page,total:k.total?k.total:0,rowsPerPage:t.rowsPerPage})))}};return a.a.createElement(i.Grid,{container:!0,spacing:2},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,style:{padding:10},justifyContent:"center"},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(x,{filter:k,setFilter:z,isLoading:v,setIsLoading:j,clearIsLoading:G,setClearIsLoading:R}))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Divider,null)),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(o.a,{data:u,columns:N,options:J}))))}));function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t=e.monthSelected,n=e.sellerId,l=k(Object(r.useState)({}),2),o=l[0],c=l[1],d=Object(y.useSnackbar)().enqueueSnackbar,m=k(Object(r.useState)({}),2),u=m[0],s=m[1];Object(r.useEffect)((function(){f()}),[t,n]);var f=function(){if(t||n){s(JSON.parse(t));var e=JSON.parse(t),r={};r.sellerId=n,r.day=e.day,r.year=e.year,r.month=e.month,r.paymentStatus=e.concluded?["concluded"]:["pending","received"],Object(p.b)("get","/ordermoney/summary",(function(e){c(e)}),(function(e){return d(e,{variant:"error"})}),{},{params:r})}};return a.a.createElement(i.Grid,{container:!0,spacing:2},Array.isArray(o)&&o.map((function(e,r,l){var o=e.concluded||e.received,c=e.pb_concluded||e.pb_received;return a.a.createElement(i.Grid,{item:!0,xl:l.length>1?6:12,lg:l.length>1?6:12,md:l.length>1?6:12,sm:l.length>1?6:12,xs:12},a.a.createElement(i.Paper,{elevation:2,style:{padding:15}},a.a.createElement(i.Grid,{container:!0},1==l.length&&a.a.createElement(i.Grid,{item:!0,xs:12,md:5,lg:5},a.a.createElement(i.Grid,{container:!0,alignItems:"center",style:{height:"100%",marginLeft:15}},a.a.createElement(i.Avatar,{style:{width:100,height:100}},a.a.createElement("img",{src:e.pic})),a.a.createElement(i.Grid,{item:!0,xs:"auto",style:{marginLeft:10}},a.a.createElement("p",{style:{fontSize:e.sellerName.length>15?25:35,paddingTop:10,marginBottom:0}},e.sellerName),a.a.createElement(i.Button,{variant:"contained",size:"small",style:{borderRadius:5,fontSize:8,backgroundColor:"lightBlue",marginBottom:10},onClick:function(){var e={paymentStatus:u.concluded?"concluded":"pending,received"};n&&(e.seller=n),u.year&&(e.year=u.year),u.year&&(e.month=u.month),window.location.href="/money/list?".concat(Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"))}},"Detalhes")))),a.a.createElement(i.Grid,{item:!0,xs:12,md:1==l.length?7:12,lg:1==l.length?7:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},l.length>1&&a.a.createElement(i.Grid,{item:!0,xs:2,md:1,lg:1,style:{fontSize:12,paddingBottom:3}},a.a.createElement(i.Avatar,null," ",a.a.createElement("img",{src:e.pic}))),l.length>1&&a.a.createElement(i.Grid,{item:!0,xs:10,md:3,lg:3,style:{paddingTop:10,fontSize:12,paddingLeft:5}},a.a.createElement(i.Typography,null,e.sellerName)),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end",style:{height:"100%"}},a.a.createElement(i.Chip,{icon:a.a.createElement(i.Icon,{style:{fontSize:12}},"check"),color:"secondary",label:JSON.parse(t).concluded?"Realizado":"Previsto Dia 1",style:{fontSize:10,marginTop:5,marginBottom:5,marginRight:3}}),e.pending&&e.pending&&a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Divider,{orientation:"vertical"})))),e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement(i.Chip,{icon:a.a.createElement(i.Icon,{style:{fontSize:10}},"check"),color:"gray",label:"Sem Previs\xe3o",style:{fontSize:10,marginTop:5,marginBottom:5,marginRight:3}}))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Divider,null)),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement("p",{style:{paddingTop:5,fontSize:12}},"Valor Bruto:")),e&&!e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4}),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end",style:{height:"100%"}},a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Grid,{container:!0},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,marginBottom:0,paddingRight:5,fontSize:12}}," ",(o&&o.gross||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{color:"#fd3e3e",marginRight:5,marginBottom:0,fontSize:9}},(c&&c.gross||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))),e&&!e.concluded&&e.pending&&a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Divider,{orientation:"vertical"})))),e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,paddingRight:5,fontSize:12}},"  ",((e.pending&&e.pending.gross||0)+(e.pb_pending&&e.pb_pending.gross||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement("p",{style:{paddingTop:5,fontSize:12}},"Taxa Mercado Livre:")),e&&!e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4}),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end",style:{height:"100%"}},a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Grid,{container:!0},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,marginBottom:0,paddingRight:5,fontSize:12}}," ",(o&&o.saleFee||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{color:"#fd3e3e",marginRight:5,marginBottom:0,fontSize:9}},(c&&c.saleFee||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))),e&&!e.concluded&&e.pending&&a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Divider,{orientation:"vertical"})))),e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,paddingRight:5,fontSize:12}},"  ",((e.pending&&e.pending.saleFee||0)+(e.pb_pending&&e.pb_pending.saleFee||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement("p",{style:{paddingTop:5,fontSize:12}},"Taxa Frete:")),e&&!e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4}),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end",style:{height:"100%"}},a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Grid,{container:!0},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,marginBottom:0,paddingRight:5,fontSize:12}}," ",(o&&o.freight||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{color:"#fd3e3e",marginRight:5,marginBottom:0,fontSize:9}},(c&&c.freight||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))),e&&!e.concluded&&e.pending&&a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Divider,{orientation:"vertical"})))),e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,paddingRight:5,fontSize:12}}," ",((e.pending&&e.pending.freight||0)+(e.pb_pending&&e.pb_pending.freight||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement("p",{style:{paddingTop:5,fontSize:12}},"Taxa:")),e&&!e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4}),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end",style:{height:"100%"}},a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Grid,{container:!0},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,marginBottom:0,paddingRight:5,fontSize:12}}," ",(o&&o.digiFee||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{color:"#fd3e3e",marginRight:5,marginBottom:0,fontSize:9}},(c&&c.digiFee||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))),e&&!e.concluded&&e.pending&&a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Divider,{orientation:"vertical"})))),e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,paddingRight:5,fontSize:12}},"  ",((e.pending&&e.pending.digiFee||0)+(e.pb_pending&&e.pb_pending.digiFee||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Divider,null)),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement("p",{style:{paddingTop:5,fontSize:12}},"Repasse:")),e&&!e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4}),a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end",style:{height:"100%"}},a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Grid,{container:!0},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,marginBottom:0,paddingRight:5,fontSize:12}}," ",(o&&o.receivement+(c&&c.receivement||0)||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))),e&&!e.concluded&&e.pending&&a.a.createElement(i.Grid,{item:!0},a.a.createElement(i.Divider,{orientation:"vertical"})))),e.pending&&a.a.createElement(i.Grid,{item:!0,xs:4},a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end"},a.a.createElement("p",{style:{paddingTop:5,paddingRight:5,fontSize:12}},"  ",((e.pending&&e.pending.receivement||0)+(e.pb_pending&&e.pb_pending.receivement||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))))))})))}function M(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=N(Object(r.useState)({}),2),n=t[0],l=t[1],o=N(Object(r.useState)([]),2),c=o[0],d=o[1],m=N(Object(r.useState)(),2),u=m[0],s=m[1],E=Object(y.useSnackbar)().enqueueSnackbar,h=N(Object(r.useState)([]),2),S=h[0],v=h[1];Object(r.useEffect)((function(){Object(p.b)("get","/ordermoney/concludMonts",(function(e){d([].concat(M(e.map((function(e){return{day:e._id.day,month:e._id.month,year:e._id.year,value:e.concludedValue.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),concluded:!0}}))),[{concluded:!1,checked:!0}])),l({monthSelected:JSON.stringify({concluded:!1,checked:!0})})}),(function(e){return E(e,{variant:"error"})}))}),[]);Object(r.useEffect)((function(){Object(p.b)("get","/user/superuser",(function(e){return s(e)}),(function(e){return E(Object(B.a)(e),{variant:"error"})})),Object(p.b)("get","/selectlist/sellerId",v)}),[]);var j=Object(f.b)(n,!0,(function(){}),[]),O=j.values,G=j.errors,x=j.handleInputChange,R=j.handleSubmit;j.resetForm;return a.a.createElement(f.a,{onSubmit:R},a.a.createElement(i.Grid,{container:!0,spacing:1,style:{padding:10}},a.a.createElement(i.Grid,{item:!0,lg:3,xs:12},a.a.createElement(g.a.Select,{noEmpty:!0,label:"Periodo",name:"monthSelected",onChange:x,options:c.map((function(e){return{id:JSON.stringify(e),title:e.year?"".concat(e.day,"/").concat(Object(i.capitalize)(new Date(e.year,e.month-1).toLocaleString("default",{month:"long"})),"/").concat(e.year," | ").concat(e.value):"Proximo Fechamento"}})),value:O.monthSelected?O.monthSelected:null,error:G.monthSelected})),a.a.createElement(i.Grid,{item:!0,lg:3,xs:12},a.a.createElement(g.a.Select,{label:"Empresa",name:"sellerId",onChange:x,options:S,value:O.sellerId,error:G.sellerId})),a.a.createElement(i.Grid,{item:!0,style:{marginTop:15,marginLeft:10},xs:5,lg:"auto"},a.a.createElement(C,null)),a.a.createElement(i.Grid,{item:!0,style:{marginTop:25,marginLeft:10},xs:6,lg:"auto"},u&&a.a.createElement(b.a,{onClick:function(){Object(p.b)("put","/ordermoney/concluded",(function(){location.reload(!0)}),{},{sellerId:O.sellerId})},color:"default",label:"Concluir recebidos",disabled:!0,icon:"check"})),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Divider,null)),Array.isArray(c)&&c.find((function(e){return e.checked}))&&a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(_,{monthSelected:O.monthSelected,sellerId:O.sellerId,sellerFilter:O.sellerId}))))}var q=n("0d7f0986bcd2f33d8a2a"),$=n("1037a6e0d5914309f74c"),H=n.n($),K=n("0595ba5ccdf30ba3c7ca"),Q=n("64f8e359e5376d31c8d3"),W=n("e95a63b25fb92ed15721");function X(){return(X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(){var e="Financeiro",t=Object(W.useHistory)(),n=H.a.desc,l=location.pathname.split("/"),o=Y(Object(r.useState)(l.length>2&&"list"==l[2]?1:0),2),c=o[0],d=o[1],m=Y(Object(r.useState)([]),2),u=(m[0],m[1]);function s(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}Object(r.useEffect)((function(){var e=["resume","list"].indexOf(location.pathname.split("/")[2]);d(-1==e?1:e)}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(q.Helmet,null,a.a.createElement("title",null,e),a.a.createElement("meta",{name:"description",content:n}),a.a.createElement("meta",{property:"og:title",content:e}),a.a.createElement("meta",{property:"og:description",content:n}),a.a.createElement("meta",{property:"twitter:title",content:e}),a.a.createElement("meta",{property:"twitter:description",content:n})),a.a.createElement(Q.a,{icon:"monetization_on",label:"Financeiro"}),a.a.createElement(i.Paper,null,a.a.createElement(i.Grid,{container:!0},a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(i.Tabs,{orientation:"horizontal",variant:"scrollable",value:c,onChange:function(e,n,r){switch(d(n),u(r),n){case 0:t.push("/money/resume");break;case 1:t.push("/money/list")}},"aria-label":"Menu Configura\xe7\xf5es"},a.a.createElement(i.Tab,X({label:"Resumo"},s(0))),a.a.createElement(i.Tab,X({label:"Lista"},s(1))))),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(K.TabPanel,{value:c,index:0},a.a.createElement(U,null)),a.a.createElement(K.TabPanel,{value:c,index:1},a.a.createElement(A,null))))))}}}]);