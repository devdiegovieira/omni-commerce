(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"688f487e26d957cefb8c":function(e,t,n){"use strict";n.r(t);var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("0d7f0986bcd2f33d8a2a"),l=n("ab039aecd4a1d4fedc0e"),i=n("0d939196e59ed73c94e6"),c=n("f8d3582cb63722b51e34"),u=n("1037a6e0d5914309f74c"),s=n.n(u),d=n("e1f4d4d03e3022cb8ad7"),m=(n("e17e925824f7b7b1607d"),n("1a4ed1ba7965942fe077")),f=n("30a2323f7d39e55e43f3"),b=n("85375f8d26acc8d5cc1e"),p=n.n(b),y=n("ef58856f4f875bd36582"),g=n.n(y),E=n("695e8e491f250678f5ba"),h=n.n(E),v=n("e62818580b228af97556"),O=n.n(v),S=n("6938d226fd372a75cbf9"),j=n("6580e3a841bd6dc9a0fe"),C=n("1c2538367908c46ee10d"),w=n("714caf4dc8657d4785b9"),I=n.n(w),k=n("9c772359e08e81b5b3ba"),A=n.n(k),x=(n("01d3b8d5edf7931b16b6"),n("d1f8212a47a511a9ad3a"));function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=Object(S.withStyles)((function(e){return{badge:{top:5}}}))(I.a),D=Object(S.makeStyles)((function(e){return{grid:{paddingRight:5,paddingLeft:5},gridContainer:{marginTop:-30,padding:10}}}));function N(e){var t=D(),n=e.filter,o=e.setFilter,l=e.filterSubmit,c=function(){l(s)},u=Object(j.b)(n,!0,c,[]),s=u.values,d=u.errors,f=u.handleInputChange,b=u.handleSubmit,p=u.resetForm,y=Object(x.useSnackbar)().enqueueSnackbar,E=P(Object(r.useState)([]),2),v=E[0],S=E[1],w=P(Object(r.useState)([]),2),I=w[0],k=w[1],T=P(Object(r.useState)([]),2),N=(T[0],T[1],P(Object(r.useState)([]),2)),R=N[0],G=N[1],B=P(Object(r.useState)([]),2),L=B[0],M=B[1],z=P(Object(r.useState)(""),2),q=z[0],_=z[1];Object(r.useEffect)((function(){return c()}),[q]);var H=function(e){J(e.target.value)},J=Object(r.useCallback)(A.a.debounce((function(e){_(e)}),1e3),[]);return a.a.createElement(j.a,{onSubmit:b},a.a.createElement(h.a,{onChange:function(e,t){t&&(Object(m.b)("get","/selectlist/sellerid",k,(function(e){return y(e,{variant:"error"})})),Object(m.b)("get","/selectlist/platformid",S,(function(e){return y(e,{variant:"error"})})),Object(m.b)("get","/selectlist/marketplaceid",G,(function(e){return y(e,{variant:"error"})})),Object(m.b)("get","/selectlist/platformid",S,(function(e){return y(e,{variant:"error"})})),Object(m.b)("get","/selectlist/ordersubstatus",M,(function(e){return y(e,{variant:"error"})})))}},a.a.createElement(O.a,{expandIcon:a.a.createElement(g.a,null,"expand_more"),"aria-controls":"panel4bh-content",id:"panel4bh-header"},a.a.createElement(g.a,{color:"primary",style:{width:35,position:"relative"}},a.a.createElement(F,{color:"primary",badgeContent:Object.keys(s).length-2},"filter_list"))),a.a.createElement(i.Grid,{container:!0,className:t.gridContainer},a.a.createElement(i.Grid,{item:!0,xs:3,sm:3,md:3,className:t.grid},a.a.createElement(C.a.Input,{name:"name",label:"Nome",value:s.name,onChange:function(e){f(e),H(e)},error:d.name}),a.a.createElement(C.a.Input,{name:"orderNumber",label:"N\xfamero da Venda",value:s.orderNumber,onChange:function(e){f(e),H(e)},error:d.orderNumber})),a.a.createElement(i.Grid,{item:!0,xs:3,sm:3,md:3,className:t.grid},a.a.createElement(i.Grid,{container:!0,justifyContent:"center"},a.a.createElement(C.a.DatePicker,{className:t.field,label:"Per\xedodo de:",name:"dateClosedFrom",value:s.dateClosedFrom,onChange:function(e){f(e),H(e)},error:d.dateClosedFrom}),a.a.createElement(C.a.DatePicker,{label:"At\xe9:",name:"dateClosedTo",value:s.dateClosedTo,onChange:function(e){f(e),H(e)},error:d.dateClosedTo}))),a.a.createElement(i.Grid,{item:!0,xs:3,sm:3,md:3,className:t.grid},a.a.createElement(C.a.MultiSelect,{name:"subStatus",label:"Status",value:s.subStatus,onChange:function(e){f(e),H(e)},options:L,error:d.subStatus}),a.a.createElement(C.a.MultiSelect,{name:"marketPlaceId",label:"Conta",value:s.marketPlaceId,onChange:function(e){f(e),H(e)},error:d.marketPlaceId,options:R})),a.a.createElement(i.Grid,{item:!0,xs:3,sm:3,md:3,className:t.grid},a.a.createElement(C.a.MultiSelect,{name:"sellerId",label:"Empresa",value:s.sellerId,onChange:function(e){f(e),H(e)},options:I,error:d.sellerId}),a.a.createElement(C.a.MultiSelect,{name:"platformId",label:"Plataforma",value:s.platformId,onChange:function(e){f(e),H(e)},options:v,error:d.platformId}))),a.a.createElement(i.Divider,null),a.a.createElement(i.AccordionActions,null,a.a.createElement(i.Button,{size:"small",onClick:function(){o({limit:25,offset:0,dateClosedFrom:new Date,dateClosedTo:new Date}),p()}},"Limpar"))))}var R=n("c76b5fede0f05253a370"),G=n("d67b02e9c49b15b460f6"),B=n.n(G);function L(e){var t=window.open();t.document.body.innerHTML=B.a.renderToString(function(e,t,n){var r=document.getElementsByTagName("body")[0],a=document.createElement("table"),o=document.createElement("thead"),l=document.createElement("tr");n.forEach((function(e){var t=document.createElement("th");t.appendChild(document.createTextNode(e)),l.appendChild(t)})),o.appendChild(l),a.appendChild(o);var i=document.createElement("tbody");document.createElement("tr");return e.forEach((function(e){var n=document.createElement("tr");t.forEach((function(t){var r=document.createElement("td");r.appendChild(document.createTextNode(e[t])),n.appendChild(r)})),i.appendChild(n)})),a.appendChild(i),r.appendChild(a),a}(e,["name","order"],["name","order"]).innerHTML),t.document.close(),t.focus(),t.print()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(e){var t=e.orders,n=void 0===t?[]:t,o=(e.executeAfterAction,Object(x.useSnackbar)().enqueueSnackbar),l=M(Object(r.useState)([]),2),c=l[0],u=l[1];Object(r.useEffect)((function(){c.length>0&&L(c)}),[c]);var s=[{title:"Imprimir Selecionado (F2)",icon:"print",tooltip:"Imprime os pedidos selecionado",onClick:function(){Object(m.b)("post","/order/orderpickiglist",(function(e){return u(e)}),(function(e){return o(e,{variant:"error"})}),n.map((function(e){return e.orderId})))},disabled:0==n.length},{title:"Bloquear Pedido (F3)",icon:"lock",tooltip:"Bloqueia pedido da separa\xe7\xe3o",disabled:0==n.length,onClick:""}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Grid,{container:!0,justifyContent:"flex-end",spacing:2},a.a.createElement(i.Grid,{item:!0,xl:3,lg:3,md:4,sm:5,xs:6},a.a.createElement(R.a,{buttons:s}))))},_=n("5524cc56e9066ebc5083");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e){var t,n="Empresa - ".concat(s.a.name),l=s.a.desc,u=e.intl,b=Object(i.useTheme)(),y=p()(b.breakpoints.down("sm")),g=a.a.forwardRef((function(e,t){return a.a.createElement(i.Slide,K({direction:"up",ref:t},e))})),E=Object(i.useForkRef)(null),h=V(Object(r.useState)([]),2),v=h[0],O=h[1],S=V(Object(r.useState)(!0),2),j=S[0],C=S[1],w=V(Object(r.useState)([]),2),I=w[0],k=w[1],A=Object(x.useSnackbar)().enqueueSnackbar,P=V(Object(r.useState)(!1),2),T=P[0],F=P[1],D=V(Object(r.useState)({limit:25,offset:0}),2),R=D[0],G=D[1],B=function(){L(R)},L=function(){C(!0),Object(m.b)("get","/order/list/expedition",(function(e){O(e.map((function(e){return J(J({},e),{},{name:Object(f.a)(e.name)})}))),C(!1)}),(function(e){return A(e,{variant:"error"})}),{},{params:R})};Object(r.useEffect)((function(){L()}),[R]);var M=[{name:"_id",label:"Id",options:{display:!1,sort:!1,filter:!1}},{name:"orderId",label:"Venda",options:{sort:!1,customBodyRenderLite:function(e){var t=v[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("b",{style:{position:"relative"}},t.orderId),a.a.createElement("br",null))}}},{name:"name",label:"Nome",options:{sort:!1}},{name:"dateClosed",label:"Data da Venda",options:{sort:!1,customBodyRenderLite:function(e){var t=v[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Chip,{label:"".concat(new Date(t.dateClosed).toLocaleString()),style:{position:"relative"}}))}}},{name:"sellerName",label:"Empresa"},{name:"platformName",label:"Plataforma",options:{sort:!1}},{name:"marketPlaceId",label:"Conta",options:{sort:!1,customBodyRenderLite:function(e){var t=v[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement("b",{style:{position:"relative"}},t.marketPlaceName),a.a.createElement("br",null))}}},{name:"note",label:"Mensagem",options:{sort:!1,customBodyRenderLite:function(e){var t=v[e];return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Tooltip,{title:t.note},a.a.createElement(i.IconButton,{size:"small",onClick:function(){return t=e,void Object(m.b)("get","/order/mensagem/".concat(v[t].orderId),(function(e){O(e),F(!0)}),(function(e){return A(e,{variant:"error"})}),{},{});var t}},a.a.createElement(i.Icon,null,"mail_outline"))))}}},{name:"subStatus",label:"Status",options:{sort:!1,customBodyRenderLite:function(e){var t=v[e],n={};return"Em Separa\xe7\xe3o"==t.subStatus&&(n="#800000"),"Aguardando Separa\xe7\xe3o"==t.subStatus&&(n="#228B22"),a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Chip,{label:a.a.createElement("b",{style:{color:"white"}},t.subStatus),style:{backgroundColor:n,position:"relative"}}))}}}],z=(U(t={setTableProps:function(){return{size:"small"}},filterType:"multiselect",textLabels:Object(d.a)(u),responsive:"simple",viewColumns:!1,customToolbar:function(){return a.a.createElement(a.a.Fragment,null)},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!0,useDisplayedRowsOnly:!0}}},"customToolbar",(function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,{handleClick:B,icon:"refresh",title:"Atualizar"}))})),U(t,"downloadOptions",{filterOptions:{useDisplayedColumnsOnly:!0,useDisplayedRowsOnly:!0}}),U(t,"onTableChange",(function(e,t){if("changePage"!=e&&"changeRowsPerPage"!=e||(setGridState(J(J({},gridState),{},{page:t.page})),G(J(J({},R),{},{offset:R.limit*t.page,limit:t.rowsPerPage}))),"rowSelectionChange"==e){var n,r=[],a=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}(t.selectedRows.data);try{for(a.s();!(n=a.n()).done;){var o=n.value,l=v[o.dataIndex];l&&r.push({orderId:l.orderId})}}catch(e){a.e(e)}finally{a.f()}k(r)}})),U(t,"customToolbarSelect",(function(e){return a.a.createElement(a.a.Fragment,null)})),t);return a.a.createElement("div",null,a.a.createElement(o.Helmet,null,a.a.createElement("title",null,n),a.a.createElement("meta",{name:"description",content:l}),a.a.createElement("meta",{property:"og:title",content:n}),a.a.createElement("meta",{property:"og:description",content:l}),a.a.createElement("meta",{property:"twitter:title",content:n}),a.a.createElement("meta",{property:"twitter:description",content:l})),a.a.createElement(i.Grid,{container:!0,spacing:2},a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Grid,{item:!0,xs:12,style:{position:"relative",zIndex:"10"}},a.a.createElement(q,{orders:I,executeAfterAction:L})),a.a.createElement(i.Grid,{item:!0,xs:12},a.a.createElement(N,{filter:R,setFilter:G,filterSubmit:function(e){G(e)}})),a.a.createElement(i.Grid,{item:!0,xs:12,style:{position:"relative",zIndex:"1"}},a.a.createElement(c.a,{title:a.a.createElement(i.Typography,{variant:"h6"},a.a.createElement(i.Icon,{color:"primary",style:{position:"relative",top:4,marginRight:5}},"local_shipping"),"Expedi\xe7\xe3o",j&&a.a.createElement(i.CircularProgress,{size:24,style:{marginLeft:15,position:"relative",top:4}})),data:v,columns:M,options:z})),a.a.createElement(i.Dialog,{fullScreen:y,TransitionComponent:g,scroll:"paper",open:T,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"md"},a.a.createElement(i.DialogTitle,{id:"scroll-dialog-title"},"Conte\xfado"),a.a.createElement(i.DialogContent,{dividers:"true"},a.a.createElement(i.DialogContentText,{id:"scroll-dialog-description",ref:E,tabIndex:-1},a.a.createElement("pre",null,JSON.stringify(v,null,2)))),a.a.createElement(i.DialogActions,null,a.a.createElement(i.Button,{onClick:function(){F(!1)},color:"primary"},"Fechar"))))))}Q.propTypes={intl:l.intlShape.isRequired};t.default=Object(l.injectIntl)(Q)}}]);